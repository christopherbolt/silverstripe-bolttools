# Prepend this to top of Silverstripe htaccess file

## SSL Redirect Begin

#RewriteCond %{HTTPS} !=on
#RewriteCond %{HTTP_HOST} !local
#RewriteCond %{HTTP_HOST} !draftsite\.co\.nz
#RewriteRule ^(.*)$ https://www.domain.co.nz%{REQUEST_URI} [R=301,L]

## SSL Redirect End

### Chris Bolt Begin ###

# Caching
# 1 WEEK
<IfModule mod_headers.c>
	<FilesMatch "\.(jpg|jpeg|png|gif|swf|pdf|js|css|html|eot|svg|ttf|woff)$">
		Header set Cache-Control "max-age=604800, public"
	</FilesMatch>
</IfModule>
# End Caching

# Gzip compress javascript and css files
<IfModule mod_deflate.c>
	AddType image/svg+xml .svg
	AddOutputFilterByType DEFLATE text/css application/x-javascript application/javascript text/javascript image/svg+xml
</IfModule>
# End Gzip

# Hide git
RedirectMatch 404 /\.git
RedirectMatch 404 /*\.md

# Redirect themes
RewriteRule ^themes/(.*) _resources/themes/$1 [NC,L]

### End Chris Bolt ###

